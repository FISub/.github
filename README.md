![image](https://github.com/user-attachments/assets/172a9ed5-aaa6-4144-b4cc-7509dc812561)


<br/>
<br/>
<br/>
<br/>

# 1. Project Overview (프로젝트 개요)
- 프로젝트 이름: woorihealth
- 프로젝트 설명: 건강식품 정기구독 플랫폼
  
- repo
- https://github.com/FISub/backend
- https://github.com/FISub/frontend

<br/>
<br/>

# 2. Team Members (팀원 및 팀 소개)
> 🐈‍⬛ [**이현빈**](https://github.com/Been980804)
> 
> - 구독 및 리뷰 등록 기능

> 🐈‍⬛ [**조성현**](https://github.com/cshharry)
> 
> - 상품 등록 및 관리 기능

> 🐈‍⬛ [**이승준**](https://github.com/leesj000603)
> 
> - 로그인 및 회원가입 기능
> - 유저 정보 조회 및 수정

> 🐈‍⬛ [**허예은**](https://github.com/yyyeun)
> 
> - 로그 처리
> - 관리자 기능
<br/>
<br/>

# 3. Key Features (주요 기능)
- **회원가입**:
  - 회원가입 시 DB에 유저정보가 등록됩니다.
  - ![image](https://github.com/user-attachments/assets/a9f6a028-ca1f-432c-a33a-879d0dffe99d)


- **로그인**:
  - ![image](https://github.com/user-attachments/assets/93f3dd72-9cc6-4987-8abc-7008e2723f98)

  - 사용자 인증 정보를 통해 로그인합니다.
  - 세션 - 쿠키 방식을 통해 로그인과 권한을 검증합니다.

- **상품 구독**:
  - 상품 리스트를 조회합니다.
  - ![image](https://github.com/user-attachments/assets/dadd7360-e934-411b-ab99-8ab09c6a60de)
  - 상품을 선택하여 상세조회 하고 원하는 정기구독 주기를 선택합니다.
  - ![image](https://github.com/user-attachments/assets/6d9b9154-2816-4896-abb8-11cde0e19edc)
  - 결제 수단을 선택 또는 등록합니다.
  - ![image](https://github.com/user-attachments/assets/2082f6f9-3a7d-4c62-a0b4-b979e2871603)
  - ![image](https://github.com/user-attachments/assets/937acbdb-53e4-4ac5-a9be-42d0f6e81ccb)
  - 내가 구독한 상품 목록을 조회합니다.
  - ![image](https://github.com/user-attachments/assets/10c2dd43-6b77-4bd8-89af-48e5d8de78bd)
  - 내가 구매한 상품에 대한 리뷰를 남깁니다.
  - ![image](https://github.com/user-attachments/assets/34207ccf-1eff-4aef-8f97-ffb0904ef513)



- **사업자**:
  - 상품을 등록합니다 (img업로드 기능 추후 구현 예정).
  - ![image](https://github.com/user-attachments/assets/51a97b48-5a01-4816-8f7b-8ec006fe5c8c)
  - 현재 자신이 등록한 상품을 조회, 삭제 합니다.
  - ![image](https://github.com/user-attachments/assets/96fea053-60f9-4fe3-b66f-95f0314f9672)


- **서비스 관리자**:
  - 회원 목록을 조회하고 관리합니다.
  - ![image](https://github.com/user-attachments/assets/59ffae71-ca56-4540-87ed-96d56a220e36)
  - 상품 목록을 조회하고 관리합니다.
  - ![image](https://github.com/user-attachments/assets/3133bdea-7914-4204-a8a4-9a3abc77cdc4)
  - 로그 데이터를 통해 데이터 시각화를 조회합니다. - 회원 별 조회수 대비 구독 전환율 , 회원 조회 비율, 회원 구독 비율
  ![image](https://github.com/user-attachments/assets/f0d659b6-de0b-4be8-93f9-8bd323aeedde)

- 
<br/>
<br/>

# 4. Technology Stack (기술 스택)
## 4.1 Language
|  |  |
|-----------------|-----------------|
| HTML5    |<img src="https://github.com/user-attachments/assets/2e122e74-a28b-4ce7-aff6-382959216d31" alt="HTML5" width="100">| 
| CSS3    |   <img src="https://github.com/user-attachments/assets/c531b03d-55a3-40bf-9195-9ff8c4688f13" alt="CSS3" width="100">|
| Javascript    |  <img src="https://github.com/user-attachments/assets/4a7d7074-8c71-48b4-8652-7431477669d1" alt="Javascript" width="100"> | 
| Java    |  <img src="https://blog.kakaocdn.net/dn/vHQ3d/btr77hMWsaR/Gl0OOeFFLg6DpKk8f5icyk/img.png" alt="Java" width="100"> |

<br/>

## 4.2 Frotend
|  |  |  |
|-----------------|-----------------|-----------------|
| React    |  <img src="https://github.com/user-attachments/assets/e3b49dbb-981b-4804-acf9-012c854a2fd2" alt="React" width="100"> | 17.0.2    |

<br/>

## 4.3 Backend
|  |  |  |
|-----------------|-----------------|-----------------|
| Spring boot    |  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-MpOSkh3cMg59oY1lEdz-ZBOUYA27G6HNvg&s" alt="Spring boot" width="100"> | 3.3.2    |
| Spring security    |  ![image](https://github.com/user-attachments/assets/1f482316-0aef-4ef6-925f-a5a7cf4b3401) | 3.3.2    |


<br/>

## 4.4 Database
|  |  |  |
|-----------------|-----------------|-----------------|
| Mysql    |  <img src="https://i.namu.wiki/i/vkGpBcmks1_NcJW0HUFa6jlwlM6h11B-8nxRRX4bYC703H4nLo7j4dQdRCC32gz8Q-BqRcAnQgFSXMjB8jPohg.svg" alt="Mysql" width="100">    | 8.0.39   |
| ELK stack (로그 분석) |  <img src="https://miro.medium.com/v2/resize:fit:900/1*fYzWXRMv8Y0OGuqOV8amFA.png" alt="ELK stack" width="100">    | 7.11.1   |


<br/>

## 4.5 Cooperation
|  |  |
|-----------------|-----------------|
| Git    |  <img src="https://github.com/user-attachments/assets/483abc38-ed4d-487c-b43a-3963b33430e6" alt="git" width="100">    |
| Swagger    |  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdavrQD0Hp8S-DCTXrXIboJmVmUnfeNME0jA&s" alt="git" width="100">    |
| Notion    |  <img src="https://github.com/user-attachments/assets/34141eb9-deca-416a-a83f-ff9543cc2f9a" alt="Notion" width="100">   |
https://www.notion.so/FISA-3-Mini-Project-FISub-32891dad6b01423289f01d85d36dadc0
![image](https://github.com/user-attachments/assets/b8891ae8-90c9-40b4-8acc-63438ac29e84)

<br/>

# ERD
![Untitled](https://github.com/user-attachments/assets/cef223ed-39d1-40f5-ac1d-e144fad9c1a9)

## 약어사전
| 테이블        | 약어 | 설명     |
|---------------|------|----------|
| **Member**    | mem  | 회원     |
| **Payment**   | pay  | 결제     |
| **Product**   | prod | 상품     |
| **Subscription** | sub  | 구독     |
| **Review**    | rev  | 리뷰     |
| **Qna**       | que  | 질문자   |
| **Qna**       | ans  | 답변자   |
| **Notification** | noti | 공지사항 |
| **Member**    | pw   | 비밀번호 |
| **Payment**   | exp  | 유효기간 |
| **Subscription** | per  | 기간     |


# git hub 전략
## 방식
1. git Organization으로 프로젝트 생성(원격 repository / upstream)
2. 각자 repository로 fork (로컬 repository / origin)
3. 로컬 repository 프로젝트 clone
4. git remote add upstream “원격 https link” 로 설정
5. 로컬 환경에서 개발 후 push
6. github에서 pull request로 Organization에 merge

# 커밋 컨벤션
```
type : subject
```

<br/>

## type 종류
```
feat : 새로운 기능 추가
fix : 버그 수정
docs : 문서 수정
refactor : 코드 리펙토링
chore : 자잘한 수정, 빌드 업데이트
remove : 파일 삭제
```
<br/>

## 커밋 예시
```
== ex1
Feat: "회원 가입 기능 구현"
== ex2
chore: styled-components 라이브러리 설치
```

<br/>
<br/>

# 트러블 슈팅

- frontend에서 쿠키를 통해 backend에게서 인가 정보를 받으려면 withcredentails 옵션을 true로 설정해야 한다.
  
- findbyOO을 Spring data JPA 자동 생성 기능을 통해 생성했으나, 매개변수를 join컬럼의 entity형식으로 넣어야 하는데 컬럼값을 넣는 방식으로 해서는 JPA가 조회하지 못한다. 왜냐하면 JPA에서 join컬럼을 선언 할 때 entity 타입으로 선언하기 때문이다.

- 각 테이블의 id를 trigger를 통해 생성하였는데, dbeaver에서 테이블에 trigger를 설정하려고 하였을 때 error 발생, mysql에 직접 접속하여 설정.

- swagger가 @Controller 어노테이션을 감지하지 못함, @RestController 사용,
